{"version":3,"sources":["routers.ts","const.ts","components/antd_icons.tsx","redux/controls.ts","components/layout/CompHeader.tsx","assets/logo/hjxh-banner-200x50-white.png","redux/breadcrumb.ts","components/layout/CompSider.tsx","assets/logo/hjxh-logo.png","utils/my_axios.ts","redux/goods.ts","redux/users.ts","components/select/CompSelectUsers.tsx","redux/periods.ts","components/select/CompSelects.tsx","components/analysis/CompOrdersAnalysis.tsx","utils/db_support.ts","components/general/CompRawTable.tsx","components/analysis/ad/CompAdColumns.tsx","components/analysis/ad/CompAdAnalysis.tsx","components/users/CompAddUser.tsx","utils/my_dayjs.ts","components/users/CompUserItem.tsx","components/users/CompUsersList.tsx","redux/ad.ts","redux/store.ts","components/accounts/CompWordCloud.tsx","components/accounts/CompAccounts.tsx","App.tsx","index.tsx"],"names":["routerOfRawData","key","title","icon","children","collName","routersBase","addRouterItemWithPath","router","keyBase","path","join","routerWithPath","undefined","map","subRouter","routerOfRawDataWithPath","i","require","module","console","log","HOST","type","API_URL_BASE","URL_API_DOCS","API_BASE_URL","API_GET_USERS","API_GET_AD_ANALYSIS","s","MyIcons","createFromIconfontCN","scriptUrl","SET_CONTROLS","SET_TABLE","initControls","val","Cookies","get","users","enable_auto_verify_users","table","isAmount","isPercentage","controlsReducer","state","action","controls","payload","set","dispatch2props","setControls","connect","breadcrumb","props","useState","visControls","setVisControls","style","width","height","background","zIndex","position","top","padding","display","justifyContent","alignItems","b","Item","size","direction","href","target","rel","fontSize","id","onClick","message","warn","content","bind","visible","footer","onCancel","paddingTop","labelCol","span","onValuesChange","e","onFinish","label","name","valuePropName","initialValue","wrapperCol","offset","htmlType","SET_BREADCRUMB","setBreadcrumb","data","buildSider","to","collapsed","setCollapsed","collapsible","collapsedWidth","onCollapse","overflow","left","theme","defaultOpenKeys","mode","src","Banner","preview","$","axios","create","baseURL","withCredentials","SET_GOODS","SELECT_GOODS","SET_GOODS_ORDERS","SET_USERS","SELECT_USER","selectUser","userId","dispatch","a","params","res_get_goods","result","items","list","selectedUserId","selected","placeholder","value","onSelect","user","Option","username","SET_PERIOD","initPeriodsState","startDate","moment","subtract","endDate","RangePicker","DatePicker","selectGoods","selectDates","goods","selectedGoodsId","periods","margin","paddingRight","good","_id","goods_name","placement","defaultValue","onChange","dates","setGoodsOrders","orders","loading","setLoading","setIsAmount","setIsPercentage","setItems","columns","dataSource","tableState","setTableState","fetchOrdersAnalysis","goodsId","format","res","length","warning","useEffect","columnsSet","reduce","o","k","add","spec","Set","dataIndex","fixed","datesSet","date","datesDict","item","Object","keys","forEach","sum","toFixed","sort","p","q","pivot","checkedChildren","unCheckedChildren","defaultChecked","rowKey","pagination","scroll","x","antdTableQuery","sorter","limit","pageSize","skip","current","uri","JSON","stringify","field","order","CompRawTable","setColumns","total","setTotal","setCurrent","setPageSize","handleTableChange","then","filter","assert","success","row","render","v","match","substr","notification","error","r","y","subAdColumns","suffix","adColumns","spend_ad_search","spend_ad_scene","spend_ad_fangxin","impression_ad_search","impression_ad_scene","impression_ad_fangxin","orderNum_ad_search","orderNum_ad_scene","orderNum_ad_fangxin","className","setData","obj","obj2","push","collItems2dict","obj3","values","assign","CompAddUser","vis","setVis","handleSubmitUserInfo","userInfo","post","msg","spinning","required","danger","dayjs","locale","extend","dayjsRelativeTimePlugin","dayjsArraySupportPlugin","usersControl","stats","setStats","verifyUser","put","finally","user_id","newStats","CompUserOperators","extra","gutter","verifiedStatus","color","verifiedTime","fromNow","marginBottom","flexWrap","SET_AD","rootReducer","combineReducers","volume","amount","ad","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","loggerMiddleware","words","text","CompWordCloud","CompAccounts","genRoute","fatherRouter","routes","exact","component","App","minHeight","minWidth","flexDirection","CompOrdersAnalysis","CompAdAnalysis","CompUsersList","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.48a658c3.chunk.js","sourcesContent":["export interface RouterItemBase {\n  key: string\n  title: string\n  icon?: string\n  collName?: string\n  children?: RouterItemBase[]\n}\n\nexport interface RouterItemWithPath extends RouterItemBase {\n  path: string\n  children?: RouterItemWithPath[]\n}\n\nexport const routerOfRawData: RouterItemBase =  {\n    key: \"rawdata\",\n    title: \"原始数据\",\n    icon: \"icon-jurassic_data\",\n    children: [\n      {\n        key: \"orders\",\n        title: \"订单列表\",\n        collName: \"V2_orders\"\n      },\n      {\n        key: \"goods\",\n        title: \"商品系统\",\n        children: [\n          {\n            key: 'list',\n            title: '商品列表',\n            collName: \"V2_goods_list\"\n          },\n          {\n            key: 'detail',\n            title: '商品明细',\n            collName: \"V2_goods_detail\"\n          },\n          {\n            key: 'comments',\n            title: '商品评价',\n            collName: \"V2_goods_comments\"\n          }\n        ]\n      },\n      {\n        key: 'ad',\n        title: '推广系统',\n        children: [\n          {\n            key: \"search\",\n            title: \"多多推广\",\n            collName: \"V2_ad_search\"\n          },\n          {\n            key: \"scene\",\n            title: \"多多场景\",\n            collName: \"V2_ad_scene\"\n          },\n          {\n            key: \"fangxin\",\n            title: \"放心推\",\n            collName: \"V2_ad_fangxin\"\n          },\n        ]\n      },\n    ],\n  }\n\nexport const routersBase: RouterItemBase[] = [\n  {\n    key: \"home\",\n    title: \"首页\",\n    icon: \"icon-shouye\",\n  },\n  {\n    key: \"analysis\",\n    title: \"单品聚合\",\n    icon: \"icon-zhujijuhe\",\n    children: [\n      {\n        key: \"orders\",\n        title: \"SKU分析\",\n      },\n      {\n        key: \"ad\",\n        title: \"推广分析\",\n      },\n    ],\n  },\n\n  routerOfRawData,\n\n  {\n    key: \"users\",\n    title: \"店铺相关\",\n    icon: \"icon-pingtaiyilan\",\n    children: [\n      {\n        key: \"login\",\n        title: \"运营列表\",\n      },\n      // {\n      //   key: \"monitor\",\n      //   title: \"数据监控\"\n      // }\n    ],\n  },\n\n  {\n    key: \"extra\",\n    title: \"其他\",\n    children: [\n      {\n        key:'accounts',\n        title: '账号相关'\n      }\n    ]\n  }\n\n]\n\nconst addRouterItemWithPath = (\n  router: RouterItemBase,\n  keyBase: string = \"\"\n): RouterItemWithPath => {\n  let path = [keyBase, router.key].join(\"/\")\n  let routerWithPath: RouterItemWithPath = { ...router, path, children: undefined }\n  if (router.children) {\n    routerWithPath.children = router.children.map((subRouter) =>\n      addRouterItemWithPath(subRouter, path)\n    )\n  }\n  return routerWithPath\n}\n\nexport const routerOfRawDataWithPath: RouterItemWithPath = addRouterItemWithPath(routerOfRawData)\nexport const routerWithPath: RouterItemWithPath[] = routersBase.map((i) => addRouterItemWithPath(i))\n\nif (require.main === module) {\n  console.log(routerWithPath)\n}\n","// link\n// antd config\nexport const ALI_ICON_PATH = \"//at.alicdn.com/t/font_2518932_jmkm84pn3vh.js\"\nexport const SiderWidth = 200\nexport const SiderCollapsedWidth = 60\nexport const MAX_PAGE_SIZE = 50\nexport const SCROLL_TABLE_Y = 600\nexport const SCROLL_TABLE_X = 1000\n\n// net config\nexport const SCHEMA = \"http\"\nexport const HOST = require('os').type() === \"Darwin\" ? \"localhost\" : \"nanchuan.site\";\nexport const API_PORT = 8000\nexport const API_URL_BASE = `${SCHEMA}://${HOST}:${API_PORT}/`\nexport const URL_API_DOCS = API_URL_BASE + `/docs`\n\nexport const API_VERSION = \"api/v2\"\n// api （我们访问自己的api）\nexport const API_BASE_URL = API_URL_BASE + API_VERSION\n\n// api - users\nexport const API_GET_USERS = \"/users\"\nexport const API_ADD_USER = \"/users/add\"\nexport const API_FAST_ADD_USER = \"/users/fast_add_user\"\nexport const API_UPDATE_COOKIE_OF_USER = \"/users/update_cookie_of_user\"\nexport const API_VERIFY_USER_COOKIE = \"/users/verify_cookie_of_user\"\nexport const API_GET_USER_STATS = \"/users/stats\"\n\nexport const API_V2_GET_GOODS_OF_USER = \"/users/goods\"\n\n// api - malls\nexport const API_GET_MALLS = \"/malls\"\nexport const API_GET_GOODS_FROM_MALLS = \"/malls/goods\"\n\n// api - goods\nexport const API_GET_GOODS_LIST = \"/goods/list\"\nexport const API_GET_GOODS_DETAIL = \"/goods/detail\"\nexport const API_GET_GOODS_COMMENTS = \"/goods/comments\"\n\n// api - orders\nexport const API_GET_ORDERS = \"/orders\"\nexport const API_ANALYZE_ORDERS = \"/orders/analysis\"\nexport const API_ORDERS_RANK = \"/orders/rank\"\n\n// api - ad\nexport const API_GET_AD_SEARCH = \"/ad/search\"\nexport const API_GET_AD_SCENE = \"/ad/scene\"\nexport const API_GET_AD_FANGXIN = \"/ad/fangxin\"\nexport const API_GET_AD_ANALYSIS = \"/ad/analysis\"\n\n// uri （用户访问我们的前端）\nexport const URI_HOME = \"/\"\n\nexport const URI_ANALYSIS_ORDERS = \"/analysis/orders\"\nexport const URI_ANALYSIS_AD = \"/analysis/ad\"\n\nexport const URI_USERS_LOGIN = \"/users/login\"\nexport const URI_USERS_MONITOR = \"/users/monitor\"\n\nexport const URI_ACCOUNTS = \"/extra/accounts\"\n\n// default\nexport const DEFAULT_USER_AGENT =\n  \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36\"\nexport const DEFAULT_USERNAME = \"乐和食品店:冯露\"\nexport const DEFAULT_PASSWORD = \"FL123456...\"\nexport const DEFAULT_COOKIE =\n  \"_a42=6fbd982d-1e76-434d-a1af-4f864275d15a;_bee=IyctlSCGL1k8SVLI2bTMNCIh9EpeZLCr;_crr=IyctlSCGL1k8SVLI2bTMNCIh9EpeZLCr;_f77=49d2f578-23b2-439b-aa4e-a84f95cff979;api_uid=rBQdO2COIhEqVT6MIio9Ag==;rcgk=IyctlSCGL1k8SVLI2bTMNCIh9EpeZLCr;rckk=IyctlSCGL1k8SVLI2bTMNCIh9EpeZLCr;ru1k=49d2f578-23b2-439b-aa4e-a84f95cff979;ru2k=6fbd982d-1e76-434d-a1af-4f864275d15a;_nano_fp=XpEalpCjlpEYXqdjn9_bn7ZFBW6yuyeLtaXMCztW;csrfToken=tcc96QnwbdKeqYlJSzqJQn10;SUB_PASS_ID=eyJ0IjoiaVFvVUdFdmZaK0dQTjF0UWpVRmw3QTl6clNFbnhkeHFlY3UxaW9Zelljd1FvbXh2dmRIaS9udGg3bDIzUm5VLyIsInYiOjEsInMiOjcsIm0iOjUwNjY3Mzk3MCwidSI6OTM5MTc4OTJ9;SUB_SYSTEM_ID=7;\"\nexport const DEFAULT_MALL_ID = 506673970\nexport const DEFAULT_USER_ID = 93917892\nexport const DEFAULT_GOODS_ID = 221058511472\nexport const DEFAULT_GOODS_NAME =\n  \"火山石烤肠纯肉肠地道肠大香肠肉食类热狗烧烤食材早餐半成品批发\"\n\nexport const MONGO_URI = \"mongodb://hjxh-operator:hjxh-operator@nanchuan.site:2708/hjxh-operate\"\nexport const COLL_VERSION_PREFIX = \"V2_\"\nexport const COLL_NAMES = [\n  'stats',\n  'users',\n  'orders',\n  'ad_search',\n  'ad_scene',\n  'ad_fangxin',\n  'goods_list',\n].map(s => COLL_VERSION_PREFIX + s)\n// mongodb coll names\nexport const COLL_STATS = \"stats\"\nexport const COLL_USERS = \"users\"\nexport const COLL_ORDERS = \"orders\"\nexport const COLL_AD_SEARCH = \"ad_search\"\nexport const COLL_AD_SCENE = \"ad_scene\"\nexport const COLL_AD_FANGXIN = \"ad_fangxin\"\nexport const COLL_GOODS_LIST = \"goods_list\"\nexport const COLL_GOODS_DETAIL = \"goods_detail\"\nexport const COLL_GOODS_COMMENTS_LIST = \"goods_comments_list\"\nexport const COLL_GOODS_COMMENTS_DETAIL = \"goods_comments_detail\"\nexport const COLL_API_DOCS = \"api_docs\"\nexport const COLL_MALL_DATA = \"mall_data\"\nexport const COLL_MALL_SCORE = \"mall_score\"\nexport const COLL_GOODS_QUALITY = \"goods_quality\"\n\nexport const EXCLUDE_ORDER_STATUS_LIST = ['待支付', '已取消']\n\n// const alias\nexport const SECONDS_EACH_DAY = 86400\n","import { createFromIconfontCN } from \"@ant-design/icons\"\nimport { ALI_ICON_PATH } from \"../const\"\n\nexport const MyIcons = createFromIconfontCN({\n  scriptUrl: ALI_ICON_PATH, // 在 iconfont.cn 上生成\n})\n\nexport default MyIcons\n\n","import {AnyAction} from \"redux\";\nimport {Cookies } from \"react-cookie\"\n\nexport const SET_CONTROLS = \"SET_CONTROLS\"\nexport type SET_CONTROLS = typeof SET_CONTROLS\n\nexport const SET_TABLE = \"SET_VOLUME\"\nexport type SET_TABLE = typeof SET_TABLE\n\n\nexport type CONTROLS_ACTION_TYPE = SET_CONTROLS | SET_TABLE\n\nexport interface UsersControls {\n    enable_auto_verify_users: boolean\n}\n\nexport interface TableControls {\n  isAmount: boolean\n  isPercentage: boolean\n}\n\nexport interface Controls {\n  users: UsersControls\n  table: TableControls\n}\n\n\n\nexport const initControls = (): Controls => {\n  const val = new Cookies().get('controls')\n  if(val) {\n    console.log('loaded control from cookie', val)\n    return val\n  }\n  console.log('init control from default')\n  return {\n    users: {\n      enable_auto_verify_users: false\n    },\n    table: {\n      isAmount: false,\n      isPercentage: false\n    }\n  }\n}\n\n\nexport const setControls = (controls: Controls) => ({\n  type: SET_CONTROLS,\n  payload: controls\n})\n\n\nexport const controlsReducer = (state = initControls(), action: AnyAction): Controls => {\n  switch (action.type as CONTROLS_ACTION_TYPE) {\n    case SET_CONTROLS:\n      const controls = action.payload as Controls\n      new Cookies().set(\"controls\", controls)\n      console.log('dumped cookie into key: controls', controls)\n      return controls\n    case SET_TABLE:\n      return  {\n        ...state,\n        table: action.payload\n      }\n    default:\n      return state\n  }\n}\n\nexport default controlsReducer\n","import { Header } from \"antd/lib/layout/layout\"\nimport { URL_API_DOCS } from \"../../const\"\nimport { Breadcrumb, Button, Form, message, Modal, Space, Switch } from \"antd\"\nimport { MyIcons } from \"../antd_icons\"\nimport React, { useState } from \"react\"\nimport { Controls, setControls } from \"../../redux/controls\"\nimport { connect } from \"react-redux\"\nimport { AppState } from \"../../redux/store\"\nimport {BreadcrumbPath,} from \"../../redux/breadcrumb\";\n\nexport interface CompHeaderProps {\n  controls: Controls\n  breadcrumb: BreadcrumbPath\n}\n\nexport interface CompHeaderPropsFather {\n  breadcrumb: string[]\n}\n\nexport interface CompHeaderDispatch {\n  setControls: (controls: Controls) => any\n}\n\nexport function CompHeader(\n  props: CompHeaderProps & CompHeaderPropsFather & CompHeaderDispatch\n) {\n  const [visControls, setVisControls] = useState(false)\n\n  return (\n    <Header\n      style={{\n        width: \"100%\",\n        height: \"50px\",\n        background: \"white\",\n        zIndex: 1,\n        position: \"sticky\",\n        top: 0,\n      }}\n    >\n      <div\n        style={{\n          width: \"100%\",\n          height: \"100%\",\n          padding: 10,\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n        }}\n      >\n        <Breadcrumb>\n          {props.breadcrumb.map((b) => (\n            <Breadcrumb.Item key={b}>{b}</Breadcrumb.Item>\n          ))}\n        </Breadcrumb>\n\n        <Space\n          size={\"large\"}\n          direction={\"horizontal\"}\n          style={{ height: \"100%\", display: \"flex\", alignItems: \"center\" }}\n        >\n          <Button type={\"primary\"}>\n            <a href={URL_API_DOCS} target={\"_blank\"} rel={\"noreferrer\"}>\n              API\n            </a>\n          </Button>\n\n          <MyIcons\n            type={\"icon-message\"}\n            style={{ fontSize: 20 }}\n            id={\"messages\"}\n            onClick={() => message.warn({ content: \"消息系统待开发中~\" })}\n          />\n          <MyIcons\n            type={\"icon-feedback\"}\n            style={{ fontSize: 20 }}\n            id={\"help\"}\n            onClick={() => message.warn({ content: \"反馈系统待开发中~\" })}\n          />\n          <MyIcons\n            type={\"icon-settings\"}\n            style={{ fontSize: 20 }}\n            id={\"controls\"}\n            onClick={setVisControls.bind(null, true)}\n          />\n          <MyIcons\n            type={\"icon-member\"}\n            style={{ fontSize: 20 }}\n            id={\"accounts\"}\n            onClick={() => message.warn({ content: \"账号系统待开发中~\" })}\n          />\n        </Space>\n      </div>\n\n      <Modal visible={visControls} footer={false} onCancel={()=>setVisControls(false)}>\n        <div style={{ paddingTop: 20 }}>\n          <Form\n            labelCol={{ span: 16 }}\n            onValuesChange={(e) => {\n              console.log(\"change\", e)\n            }}\n            onFinish={(e: any) => {\n              console.log(\"finished\", e)\n              props.setControls({\n                table: {\n                  isAmount: e.isAmount,\n                  isPercentage: e.isPercentage,\n                },\n                users: {\n                  enable_auto_verify_users: e.enable_auto_verify_users,\n                },\n              })\n              setVisControls(false)\n\n            }}\n          >\n            <Form.Item\n              label={\"默认显示 交易量 / 交易额\"}\n              name={'isAmount'}\n              valuePropName={\"checked\"}\n              initialValue={props.controls.table.isAmount}\n            >\n              <Switch/>\n            </Form.Item>\n\n            <Form.Item\n              label={\"默认显示 数值 / 百分比\"}\n              name={'isPercentage'}\n              valuePropName={\"checked\"}\n              initialValue={props.controls.table.isPercentage}\n            >\n              <Switch/>\n            </Form.Item>\n\n            <Form.Item\n              label={\"自动验证账号页面所有账号\"}\n              name={'enable_auto_verify_users'}\n              valuePropName={\"checked\"}\n              initialValue={props.controls.users.enable_auto_verify_users}\n            >\n              <Switch/>\n            </Form.Item>\n\n            <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\n              <Button htmlType={\"submit\"} type={\"primary\"}>\n                确认修改\n              </Button>\n            </Form.Item>\n          </Form>\n        </div>\n      </Modal>\n    </Header>\n  )\n}\n\nconst state2props = (state: AppState): CompHeaderProps => ({\n  controls: state.controls,\n  breadcrumb: state.breadcrumb.path\n})\nconst dispatch2props = {\n  setControls,\n}\nexport default connect(state2props, dispatch2props)(CompHeader)\n","export default __webpack_public_path__ + \"static/media/hjxh-banner-200x50-white.4324e56d.png\";","import { AnyAction } from \"redux\"\n\nexport const SET_BREADCRUMB = \"SET_BREADCRUMB\"\nexport type SET_BREADCRUMB = typeof SET_BREADCRUMB\n\nexport type BREADCRUMB_ACTION_TYPE = SET_BREADCRUMB\n\n\nexport type BreadcrumbPath = string[]\n\nexport interface BreadcrumbStates {\n  path: BreadcrumbPath\n}\n\nexport const setBreadcrumb = (data: string[]) => ({\n  type: SET_BREADCRUMB,\n  payload: data,\n})\n\nexport const initBreadCrumbState = (): BreadcrumbStates => ({\n  path: [\"首页\"],\n})\n\nexport const breadcrumbReducer = (\n  state = initBreadCrumbState(),\n  action: AnyAction\n): BreadcrumbStates => {\n  switch (action.type as BREADCRUMB_ACTION_TYPE) {\n    case SET_BREADCRUMB:\n      return {\n        ...state,\n        path: action.payload,\n      }\n    default:\n      return state\n  }\n}\n","import {RouterItemWithPath, routerWithPath} from \"../../routers\"\nimport {Image, Menu} from \"antd\"\nimport {SiderCollapsedWidth, SiderWidth} from \"../../const\"\nimport React, {useState} from \"react\"\nimport {Link} from \"react-router-dom\"\n\nimport Banner from \"../../assets/logo/hjxh-banner-200x50-white.png\"\nimport Logo from \"../../assets/logo/hjxh-logo.png\"\nimport {MyIcons} from \"../antd_icons\"\nimport SubMenu from \"antd/lib/menu/SubMenu\"\nimport Sider from \"antd/lib/layout/Sider\"\nimport {setBreadcrumb} from \"../../redux/breadcrumb\"\nimport {connect} from \"react-redux\"\n\nexport interface CompSiderDispatch {\n  setBreadcrumb: any\n}\n\nexport function CompSider(props: CompSiderDispatch) {\n  const buildSider = (router: RouterItemWithPath, breadcrumb: string[] = []) =>\n    router.children ? (\n      <SubMenu\n        key={router.path}\n        title={router.title}\n        icon={router.icon && <MyIcons type={router.icon}/>}\n      >\n        {router.children.map((subRouter) =>\n          buildSider(subRouter, [...breadcrumb, router.title])\n        )}\n      </SubMenu>\n    ) : (\n      <Menu.Item\n        key={router.path}\n        icon={router.icon && <MyIcons type={router.icon}/>}\n        onClick={() => {\n          props.setBreadcrumb([...breadcrumb, router.title])\n        }}\n      >\n        <Link to={router.path}>{router.title}</Link>\n      </Menu.Item>\n    )\n\n  const [collapsed, setCollapsed] = useState(false)\n  return (\n    <Sider\n      collapsible\n      collapsed={collapsed}\n      width={SiderWidth}\n      collapsedWidth={SiderCollapsedWidth}\n      onCollapse={() => setCollapsed(!collapsed)}\n      style={{\n        overflow: \"auto\",\n        height: \"100vh\",\n        left: 0\n        // zIndex: 1,\n      }}\n    >\n      {/* inline模式会在同列伸展出menu，数目少的时候比vertical要合适 */}\n      <Menu\n        theme={\"dark\"}\n        defaultOpenKeys={[\"/analysis\", \"/rawdata\", \"/users\"]}\n        mode={\"inline\"}\n      >\n        <div\n          style={{\n            width: \"100%\",\n            height: \"50px\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <Image\n            src={collapsed ? Logo : Banner}\n            width={\"100%\"}\n            height={\"100%\"}\n            style={{padding: \"10px 20px\"}}\n            preview={false}\n          />\n        </div>\n\n        {routerWithPath.map((router) => buildSider(router, []))}\n      </Menu>\n    </Sider>\n  )\n}\n\nconst dispatch2props = {\n  setBreadcrumb,\n}\n\nexport default connect(null, dispatch2props)(CompSider)\n","export default \"data:image/png;base64,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\"","import axios from \"axios\";\nimport { API_BASE_URL } from \"../const\";\n\nconst $ = axios.create({\n  baseURL: API_BASE_URL,\n  withCredentials: true\n});\n\nexport default $;\n","import { AnyAction } from \"redux\"\n\nexport const SET_GOODS = \"SET_GOODS\"\nexport type SET_GOODS = typeof SET_GOODS\n\nexport const SELECT_GOODS = \"SELECT_GOODS\"\nexport type SELECT_GOODS = typeof SELECT_GOODS\n\nexport const SET_GOODS_ORDERS = \"SET_GOODS_ORDERS\"\nexport type SET_GOODS_ORDERS = typeof SET_GOODS_ORDERS\n\nexport type GOODS_ACTION_TYPE = SET_GOODS | SELECT_GOODS | SET_GOODS_ORDERS\n\nexport interface BaseItem {\n  _id: string | object | number\n}\n\nexport interface GoodsItem extends BaseItem {\n  _id: number\n  goods_name: string\n  cat_name: string\n}\n\n// refer: redux - TypeScript: How to create an interface for an object with many keys of the same type and values of the same type? - Stack Overflow - https://stackoverflow.com/questions/52768308/typescript-how-to-create-an-interface-for-an-object-with-many-keys-of-the-same\nexport type DataItem = Record<string, number>\n\nexport interface AnalysisBaseItem {\n  date: string\n  sum: number | string // 统计\n  [key: string]: number | string\n}\n\nexport interface OrdersAnalysisData {\n  columns: string[]\n  volume: AnalysisBaseItem[]\n  amount: AnalysisBaseItem[]\n}\n\nexport const setGoods = (data: GoodsItem[]) => ({\n  type: SET_GOODS,\n  payload: data,\n})\n\nexport const selectGoods = (id: number) => ({\n  type: SELECT_GOODS,\n  payload: id,\n})\n\nexport const setGoodsOrders = (data: OrdersAnalysisData) => ({\n  type: SET_GOODS_ORDERS,\n  payload: data\n})\n\nexport interface GoodsState {\n  list: GoodsItem[]\n  selected?: number\n  orders: OrdersAnalysisData\n}\n\nconst initGoods = (): GoodsState => ({\n  list: [],\n  selected: undefined,\n  orders: {\n    columns: [],\n    volume: [],\n    amount: []\n  }\n})\n\nexport const goodsReducer = (\n  state = initGoods(),\n  action: AnyAction\n): GoodsState => {\n  switch (action.type as GOODS_ACTION_TYPE) {\n    case SET_GOODS:\n      const list = action.payload as GoodsItem[]\n      return {\n        ...state,\n        list,\n      }\n    case SELECT_GOODS:\n      return {\n        ...state,\n        selected: action.payload\n      }\n    case SET_GOODS_ORDERS:\n      return {\n        ...state,\n        orders: action.payload\n      }\n    default:\n      return state\n  }\n}\n\n","import { UserInfo } from \"../interface/pdd_user_info\"\nimport { AnyAction } from \"redux\"\nimport { Dispatch } from \"react\"\nimport {SELECT_GOODS, SET_GOODS} from \"./goods\"\nimport $ from \"../utils/my_axios\"\nimport { API_GET_USERS, API_V2_GET_GOODS_OF_USER } from \"../const\"\n\nexport const SET_USERS = \"SET_USERS\"\nexport type SET_USERS = typeof SET_USERS\n\nexport const SELECT_USER = \"SELECT_USER\"\nexport type SELECT_USER = typeof SELECT_USER\n\nexport type USERS_ACTION_TYPE = SET_USERS | SELECT_USER\n\n\nexport const initUsers = () => async (dispatch: Dispatch<any>) => {\n  console.log('initializing users...')\n  const res = await $.get(API_GET_USERS)\n  console.log({res});\n  const users = res.data.result.items\n  console.log('inited users.')\n  dispatch({\n    type: SET_USERS,\n    payload: users\n  })\n}\n\nexport const selectUser = (userId: number) => async (\n  dispatch: Dispatch<any>\n) => {\n  dispatch({\n    type: SELECT_USER,\n    payload: userId,\n  })\n  // 清空已经选的商品\n  dispatch({\n    type: SELECT_GOODS,\n    payload: undefined\n  })\n\n  const res_get_goods = await $.get(API_V2_GET_GOODS_OF_USER, {\n    params: { userId },\n  })\n  dispatch({\n    type: SET_GOODS,\n    payload: res_get_goods.data.result.items,\n  })\n}\n\nexport interface UsersState {\n  list: UserInfo[]\n  selected?: number\n}\n\nexport const initUsersState = (): UsersState => ({\n  list: [],\n  selected: undefined,\n})\n\nexport const usersReducer = (\n  state = initUsersState(),\n  action: AnyAction\n): UsersState => {\n  switch (action.type as USERS_ACTION_TYPE) {\n    case SET_USERS:\n      return {\n        ...state,\n        list: action.payload,\n      }\n    case SELECT_USER:\n      return {\n        ...state,\n        selected: action.payload\n      }\n    default:\n      return state\n  }\n}\n","import { AppState } from \"../../redux/store\"\nimport { Select } from \"antd\"\nimport React from \"react\"\nimport { connect } from \"react-redux\"\nimport { UserInfo } from \"../../interface/pdd_user_info\"\nimport { selectUser } from \"../../redux/users\"\n\nexport interface CompSelectMallsStates {\n  users: UserInfo[]\n  selectedUserId?: number\n}\n\nexport interface CompSelectMallsDispatches {\n  selectUser: (user_id: number) => any\n}\n\nexport const CompSelectUsers = (\n  props: CompSelectMallsStates & CompSelectMallsDispatches\n) => {\n  return (\n    <Select\n      style={{ width: 200 }}\n      placeholder={\"筛选店铺\"}\n      value={props.selectedUserId}\n      onSelect={(id: number) => {props.selectUser(id)}}\n    >\n      {props.users.map((user) => {\n        return (\n          <Select.Option key={user.userId} value={user.userId}>\n            {user.username}\n          </Select.Option>\n        )\n      })}\n    </Select>\n  )\n}\n\nconst state2props = (state: AppState): CompSelectMallsStates => ({\n  users: state.users.list,\n  selectedUserId: state.users.selected,\n})\n\nconst dispatch2props = {\n  selectUser,\n}\nexport default connect(state2props, dispatch2props)(CompSelectUsers)","import {AnyAction} from \"redux\";\nimport moment from \"moment\";\nimport {Dispatch} from \"react\";\n\nexport const SET_PERIOD  = \"SET_PERIOD\"\nexport type SET_PERIOD = typeof SET_PERIOD\n\nexport type PERIOD_ACTION_TYPE = SET_PERIOD\n\nexport const setPeriod = (v: number) => ({\n  type: SET_PERIOD,\n  payload: v\n})\n\nexport const selectDates = (startDate: moment.Moment, endDate: moment.Moment) => (dispatch: Dispatch<any>) => {\n\n  dispatch({\n    type: SET_PERIOD,\n    payload: {startDate, endDate}\n  })\n}\n\nexport interface PeriodsState {\n  startDate: moment.Moment\n  endDate: moment.Moment\n}\n\nexport const initPeriodsState = (): PeriodsState => ({\n  startDate: moment().subtract(7, 'days'),\n  endDate: moment().subtract(1, 'days')\n})\n\nexport const periodsReducer = (state = initPeriodsState(), action: AnyAction): PeriodsState => {\n  switch (action.type as PERIOD_ACTION_TYPE) {\n    case SET_PERIOD:\n      return {\n        ...state,\n        ...action.payload\n      }\n    default:\n      return state\n  }\n}\n","import {DatePicker, message, Select, Space, Tooltip} from \"antd\"\nimport CompSelectUsers from \"./CompSelectUsers\"\nimport MyIcons from \"../antd_icons\";\nimport moment from \"moment\";\nimport {connect} from \"react-redux\";\nimport {AppState} from \"../../redux/store\";\nimport React from \"react\";\nimport {GoodsItem, selectGoods} from \"../../redux/goods\";\nimport {selectDates} from \"../../redux/periods\";\n\nconst {RangePicker} = DatePicker\n\ninterface CompSelectsProps {\n  goods: GoodsItem[]\n  selectedGoodsId?: number\n  startDate: moment.Moment\n  endDate: moment.Moment\n}\n\ninterface CompSelectsDispatch {\n  selectGoods: (id: number) => any\n  selectDates: (startDate: moment.Moment, endDate: moment.Moment) => any\n}\n\nexport const CompSelects = (props: CompSelectsProps & CompSelectsDispatch) => {\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        margin: 10,\n        paddingRight: 15,\n      }}\n      id={\"select-operators\"}\n    >\n      <Space>\n        <CompSelectUsers/>\n\n        <Select\n          style={{width: 200}}\n          placeholder={\"筛选商品\"}\n          value={props.selectedGoodsId}\n          onSelect={(id: number) => {\n            props.selectGoods(id)\n          }}\n        >\n          {props.goods.map((good) => {\n            return (\n              <Select.Option key={good._id} value={good._id}>\n                <Tooltip title={good.goods_name} placement={'right'}>\n                  {/*{(good.cat_name || '-') + \" : \" + good.goods_name.substr(0, 10) + \"...\"}*/}\n                  {good._id}\n                </Tooltip>\n              </Select.Option>\n            )\n          })}\n        </Select>\n\n        <RangePicker defaultValue={[props.startDate, props.endDate]} onChange={(dates) => {\n          if (dates && dates[0] && dates[1]) {\n            props.selectDates(dates[0], dates[1])\n          }\n        }}/>\n\n        <MyIcons type={'icon-Clouddownload-Outlined'} style={{fontSize: 32}} onClick={() => {\n          message.warn('待开发中……')\n        }}/>\n      </Space>\n    </div>\n  )\n}\n\nconst state2props = (state: AppState): CompSelectsProps => ({\n  goods: state.goods.list,\n  selectedGoodsId: state.goods.selected,\n\n  startDate: state.periods.startDate,\n  endDate: state.periods.endDate\n})\n\nconst dispatch2props = {\n  selectGoods,\n  selectDates\n}\n\nexport default connect(state2props, dispatch2props)(CompSelects)\n\n","import {message, Space, Switch, Table} from \"antd\"\nimport React, {useEffect, useState} from \"react\"\nimport {API_ANALYZE_ORDERS} from \"../../const\"\nimport $ from \"../../utils/my_axios\"\nimport {GoodsItem, OrdersAnalysisData, setGoodsOrders,} from \"../../redux/goods\"\nimport {UserInfo} from \"../../interface/pdd_user_info\"\nimport CompSelects from \"../select/CompSelects\"\nimport {TableControls} from \"../../redux/controls\"\nimport moment from \"moment\";\nimport {ColumnsType} from \"antd/es/table\";\nimport {AppState} from \"../../redux/store\";\nimport {connect} from \"react-redux\";\n\nexport interface CompAnalyzeOrdersProps {\n  users: UserInfo[]\n  goods: GoodsItem[]\n  selectedGoodsId?: number\n  selectedUserId?: number\n  startDate: moment.Moment,\n  endDate: moment.Moment,\n  orders: OrdersAnalysisData\n  table: TableControls\n}\n\nexport interface CompOrdersAnalysisDispatch {\n  setGoodsOrders: any\n}\n\nexport interface OrderItem {\n  date: string\n  spec: string\n  goods_number: number\n  goods_amount: number\n}\n\nexport interface TableState {\n  columns: ColumnsType<any>\n  dataSource: Record<string, any>[]\n}\n\nexport const CompOrdersAnalysis = (\n  props: CompAnalyzeOrdersProps & CompOrdersAnalysisDispatch\n) => {\n  const [loading, setLoading] = useState(false)\n  const [isAmount, setIsAmount] = useState(props.table.isAmount)\n  const [isPercentage, setIsPercentage] = useState(props.table.isPercentage)\n  const [items, setItems] = useState<OrderItem[]>([])\n  const [tableState, setTableState] = useState<TableState>({columns: [], dataSource: []})\n\n  const pivot = (key: \"goods_number\" | \"goods_amount\") => {\n    // downLevelIteration Support\n    const columnsSet: Set<string> = items.reduce((o: Set<string>, k: { spec: string }) => (o.add(k.spec), o), new Set())\n    const columns: ColumnsType<any> = [\n      {\n        dataIndex: \"date\",\n        title: \"日期\",\n        fixed: 'left',\n        width: 120\n      },\n      {\n        dataIndex: \"sum\",\n        title: \"汇总\",\n        fixed: \"left\",\n        width: 120\n      },\n      ...[...columnsSet].map(s => ({\n        dataIndex: s,\n        title: s,\n        width: 120\n      }))\n    ]\n\n    const datesSet: Set<string> = items.reduce((o: Set<string>, k: { date: string }) => (o.add(k.date), o), new Set())\n    const datesDict: Record<string, Record<string, any>> = [...datesSet].reduce((o: Record<string, Record<string, any>>, k) => (o[k] = {}, o), {})\n    for (let item of items) {\n      datesDict[item.date][item.spec] = item[key]\n    }\n    Object.keys(datesDict).forEach(k => {\n      datesDict[k]['sum'] = Object.keys(datesDict[k]).reduce((s: number, i: string) => (s += datesDict[k][i], s), 0)\n      if (isPercentage) {\n        Object.keys(datesDict[k]).forEach((i: string) => datesDict[k][i] = (datesDict[k][i] / datesDict[k].sum * 100).toFixed(2) + \"%\")\n      }\n    })\n\n    const dataSource: Record<string, any>[] = [...datesSet]\n      .map(k => ({date: k, ...datesDict[k]}))\n      .sort((p, q) => p.date < q.date ? 1 : -1)\n    console.log({columns, dataSource})\n    setTableState({columns, dataSource})\n  }\n\n\n  const fetchOrdersAnalysis = async () => {\n    setLoading(true)\n    const params = {\n      goodsId: props.selectedGoodsId,\n      startDate: props.startDate.format('YYYY-MM-DD'),\n      endDate: props.endDate.format('YYYY-MM-DD')\n    }\n    console.log(\"fetching analysis of orders with params: \", params)\n    const res = await $.get(API_ANALYZE_ORDERS, {params})\n    const items: OrderItem[] = res.data.result.items\n    console.log({items})\n    if (items.length > 0) {\n      setItems(items)\n      await props.setGoodsOrders(items)\n    } else {\n      message.warning('该商品在该时间段没有数据')\n    }\n    setLoading(false)\n  }\n\n  useEffect(() => {\n    // 阻止无意义的渲染\n    if (props.selectedGoodsId && props.startDate && props.endDate) {\n      fetchOrdersAnalysis()\n    }\n  }, [props.selectedGoodsId, props.startDate, props.endDate])\n\n  useEffect(() => {\n    if (items.length > 0) {\n      pivot(isAmount ? \"goods_amount\" : \"goods_number\")\n    }\n  }, [items, isAmount, isPercentage])\n\n  return (\n    <>\n      <div style={{width: \"100%\", display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\"}}>\n        <Space>\n          <Switch\n            style={{width: 80}}\n            checkedChildren={\"交易额\"}\n            unCheckedChildren={\"交易量\"}\n            onChange={() => setIsAmount(!isAmount)}\n            defaultChecked={props.table.isAmount}\n          />\n\n          <Switch\n            style={{width: 80}}\n            checkedChildren={\"百分比\"}\n            unCheckedChildren={\"数值\"}\n            onChange={() => setIsPercentage(!isPercentage)}\n            defaultChecked={props.table.isPercentage}\n          />\n        </Space>\n        <CompSelects/>\n      </div>\n\n      {\n        tableState &&\n        <Table loading={loading} columns={tableState.columns} dataSource={tableState.dataSource} rowKey={'date'}\n               pagination={false} scroll={{x: 1000}}/>\n      }\n\n\n    </>\n  )\n}\n\nconst state2props = (state: AppState): CompAnalyzeOrdersProps => ({\n  users: state.users.list,\n  selectedUserId: state.users.selected,\n  goods: state.goods.list,\n  selectedGoodsId: state.goods.selected,\n  orders: state.goods.orders,\n  table: state.controls.table,\n  startDate: state.periods.startDate,\n  endDate: state.periods.endDate\n})\n\nconst dispatch2props: CompOrdersAnalysisDispatch = {\n  setGoodsOrders,\n}\n\nexport default connect(state2props, dispatch2props)(CompOrdersAnalysis)\n\n","import { TablePaginationConfig } from \"antd\";\nimport { FilterValue } from \"antd/es/table/interface\";\nimport $ from \"./my_axios\";\n\n/**\n * 前端 antd 进行翻页操作的函数\n *\n * @param collName\n * @param pagination\n * @param filter\n * @param sorter\n */\nexport const antdTableQuery = async (\n  collName: string,\n  pagination: TablePaginationConfig = {},\n  filter: Record<string, FilterValue | null> = {},\n  sorter: any = {}\n) => {\n  // console.log({ pagination, filter, sorter });\n  // let query = JSON.stringify(Object.keys(filter).filter((k) => filter[k] !== null).reduce((o: { [key: string]: any }, k: string) => {o[k] = { $in: filter[k] };return o;}, {}));\n  let limit = pagination.pageSize || 10;\n  let skip = pagination.current ? (pagination.current - 1) * limit : 0;\n  let uri = `db/query?collName=${collName}&limit=${limit}&skip=${skip}`;\n  if(Object.keys(sorter).length > 0){\n    uri += \"&sort=\" + JSON.stringify({ [sorter.field]: sorter.order === \"ascend\" ? 1 : -1 })\n  }\n  // console.log({ query, limit, skip, uri });\n  const res = await $.get(uri);\n  return res.data;\n};\n","import {\n  Avatar,\n  notification,\n  Table,\n  TableColumnProps,\n  TablePaginationConfig,\n  Tooltip,\n} from \"antd\"\nimport React, { useEffect, useState } from \"react\"\nimport { FilterValue } from \"antd/es/table/interface\"\nimport assert from \"assert\"\nimport { antdTableQuery } from \"../../utils/db_support\"\n\nexport const CompRawTable = (props: { collName: string }) => {\n  const [loading, setLoading] = useState(true)\n  const [columns, setColumns] = useState<TableColumnProps<any>[]>([])\n  const [items, setItems] = useState([])\n  const [total, setTotal] = useState(0)\n  const [current, setCurrent] = useState(1)\n  const [pageSize, setPageSize] = useState(10)\n\n  useEffect(() => {\n    handleTableChange().then()\n  }, [props.collName])\n\n  const handleTableChange = async (\n    pagination: TablePaginationConfig = { current, pageSize },\n    filter: Record<string, FilterValue | null> = {},\n    sorter: any = {}\n  ) => {\n    try {\n      let res = await antdTableQuery(props.collName, pagination, filter, sorter)\n      assert(res.success)\n      if (res.result.items.length === 0) return\n      console.log(\"data\", res.result.items)\n\n      let row = res.result.items[0]\n      let keys = Object.keys(row).filter((key) => typeof row[key] !== \"object\")\n      setColumns(\n        keys.map((key) => ({\n          dataIndex: key,\n          title: key,\n          fixed: key === \"_id\" ? \"left\" : undefined,\n          width: 120,\n          render: (v: any) => {\n            if (key.match(/[tT]humb/)) {\n              return <Avatar src={v} />\n            } else if (typeof v === \"string\" && v.length > 20) {\n              return <Tooltip title={v}>{v.substr(0, 10) + \"...\"}</Tooltip>\n            } else {\n              return v\n            }\n          },\n        }))\n      )\n      setItems(res.result.items)\n      setTotal(res.result.total)\n      pagination.current && setCurrent(pagination.current)\n      pagination.pageSize && setPageSize(pagination.pageSize)\n    } catch (e) {\n      notification.error(e)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <>\n\n      <Table\n        loading={loading}\n        dataSource={items}\n        columns={columns}\n        rowKey={(r) =>\n          typeof r._id === \"object\" ? JSON.stringify(r._id) : r._id\n        }\n        scroll={{ x: 1300, y: 600 }}\n        onChange={handleTableChange}\n        pagination={{ total, current, pageSize }}\n      />\n    </>\n  )\n}\n\nexport default CompRawTable\n","import {ColumnsType} from \"antd/es/table\"\nimport {COLL_AD_FANGXIN, COLL_AD_SCENE, COLL_AD_SEARCH} from \"../../../const\"\n\nconst subAdColumns = (suffix: string): ColumnsType<any> => [\n  {\n    dataIndex: \"impression\" + suffix,\n    title: \"曝光量\",\n    render: (v: number) => v ? v : '-',\n    width: 100,\n  },\n  {\n    dataIndex: \"click\" + suffix,\n    title: \"点击量\",\n    render: (v: number) => v ? v : '-',\n    width: 100,\n  },\n  {\n    dataIndex: \"orderNum\" + suffix,\n    title: \"成交量\",\n    render: (v: number) => v ? v : '-',\n    width: 100,\n  },\n  {\n    dataIndex: \"gmv\" + suffix,\n    title: \"交易额\",\n    render: (v: number) => v ? v / 100 : \"-\",\n    width: 100,\n  },\n  {\n    dataIndex: \"spend\" + suffix,\n    title: \"花费\",\n    render: (v: number) => v ? v / 100 : '-',\n    width: 100,\n  },\n  {\n    dataIndex: \"_ctr\" + suffix,\n    title: \"点击率\",\n    render: (v: number) => v ? (v * 100).toFixed(2) + \"%\" : '-',\n    width: 100,\n  },\n  {\n    dataIndex: \"_cvr\" + suffix,\n    title: \"转化率\",\n    render: (v: number) => v ? (v * 100).toFixed(2) + \"%\" : '-',\n    width: 100,\n  },\n  {\n    dataIndex: \"_roi\" + suffix,\n    title: \"投产\",\n    render: (v: number) => v ? v.toFixed(2) : \"-\",\n    width: 100,\n  },\n]\nexport const adColumns: ColumnsType<any> = [\n  {\n    title: \"日期\",\n    dataIndex: \"date\",\n    fixed: \"left\",\n    width: 120,\n  },\n  {\n    key: 'total_spend',\n    title: '总花费',\n    width: 100,\n    fixed: \"left\",\n    render: (r) => {\n      return (r.spend_ad_search || 0 + r.spend_ad_scene || 0 + r.spend_ad_fangxin || 0) / 100\n    }\n  },\n  {\n    key: 'total_impression',\n    title: '总流量',\n    width: 100,\n    fixed: 'left',\n    render: (r) => {\n      return (r.impression_ad_search || 0 + r.impression_ad_scene || 0 + r.impression_ad_fangxin || 0) / 100\n    }\n  },\n  {\n    key: 'total_orderNum',\n    title: '总销量',\n    width: 100,\n    fixed: 'left',\n    render: (r) => {\n      return (r.orderNum_ad_search || 0 + r.orderNum_ad_scene || 0 + r.orderNum_ad_fangxin || 0) / 100\n    }\n  },\n  {\n    title: \"多多搜索\",\n    // className: 'grouped-column',\n    children: subAdColumns(\"_\" + COLL_AD_SEARCH),\n  },\n  {\n    title: \"多多场景\",\n    className: 'grouped-column',\n    children: subAdColumns(\"_\" + COLL_AD_SCENE),\n  },\n  {\n    title: \"放心推\",\n    className: 'grouped-column',\n    children: subAdColumns(\"_\" + COLL_AD_FANGXIN),\n  },\n]","import {Table} from \"antd\"\nimport {AppState} from \"../../../redux/store\"\nimport {connect} from \"react-redux\"\nimport CompSelects from \"../../select/CompSelects\"\nimport React, {useEffect, useState} from \"react\"\nimport {adColumns} from \"./CompAdColumns\"\nimport {API_GET_AD_ANALYSIS, SCROLL_TABLE_X, SCROLL_TABLE_Y} from \"../../../const\";\nimport moment from \"moment\";\nimport $ from \"../../../utils/my_axios\";\n\ninterface CompAdAnalysisProps {\n  goodsId?: number\n  startDate: moment.Moment\n  endDate: moment.Moment\n}\n\ninterface CompAdAnalysisDispatch {\n}\n\nexport const CompAdAnalysis = (\n  props: CompAdAnalysisProps & CompAdAnalysisDispatch\n) => {\n  const [data, setData] = useState<Record<string, any>[]>([])\n\n  const collItems2dict = (o: Record<string, any>[], collName: string): Record<string, any>[] =>\n    o.map(item => (Object.keys(item).reduce((o: Record<string, any>, s: string) => (o[s === 'date' ? s : s + \"_\" + collName] = item[s], o), {})))\n\n\n  useEffect(() => {\n    if (props.goodsId && props.startDate && props.endDate) {\n      $.get(API_GET_AD_ANALYSIS, {\n        params: {\n          goodsId: props.goodsId,\n          startDate: props.startDate.format('YYYY-MM-DD'),\n          endDate: props.endDate.format(\"YYYY-MM-DD\")\n        }\n      }).then(res => {\n        // {[key: collName]: item}\n        const obj: Record<string, { date: string, [key: string]: any }[]> = res.data.result\n        // [[...items of coll1], [...items of coll2], [...items of coll3]]\n        const obj2: Record<string, any>[] = Object.keys(obj).reduce((o: Record<string, any>[], collName: string) => (o.push(...collItems2dict(obj[collName], collName)), o), [])\n        const datesSet = obj2.reduce((o: Set<string>, s: Record<string, any>) => (o.add(s.date), o), new Set())\n        // [...items of all colls]\n        const obj3: Record<string, any>[] = Object.values(obj2.reduce((o: Record<string, Record<string, any>>, item: Record<string, any>) => (Object.assign(o[item.date], item), o), [...datesSet].reduce((o: Record<string, any>, s) => (o[s] = {}, o), {})))\n        console.log({datesSet, obj, obj2, obj3})\n        setData(obj3)\n      })\n    }\n  }, [props.goodsId, props.startDate, props.endDate])\n\n  return (\n    <>\n      <CompSelects/>\n      <Table columns={adColumns} dataSource={data} rowKey={\"date\"}\n             scroll={{x: SCROLL_TABLE_X, y: SCROLL_TABLE_Y}}\n      />\n    </>\n  )\n}\n\nconst state2props = (state: AppState): CompAdAnalysisProps => ({\n  goodsId: state.goods.selected,\n  startDate: state.periods.startDate,\n  endDate: state.periods.endDate\n})\n\n\nexport default connect(state2props)(CompAdAnalysis)\n","import React, {useState} from \"react\";\nimport $ from \"../../utils/my_axios\";\nimport {API_ADD_USER, DEFAULT_PASSWORD, DEFAULT_USERNAME} from \"../../const\";\nimport {AjaxResult} from \"../../interface/pdd_base\";\nimport {Button, Form, Input, message, Modal, Spin} from \"antd\";\n\n\nexport const CompAddUser = () => {\n    const [vis, setVis] = useState(false)\n    const [loading, setLoading] = useState(false)\n\n    const handleSubmitUserInfo = async (userInfo: {\n      username: string\n      password: string\n      cookie: string\n    }) => {\n      console.log(userInfo)\n      setLoading(true)\n      try {\n        const res = (await $.post(API_ADD_USER, userInfo)).data as AjaxResult\n        if (res.success) {\n          message.success(\"创建成功！\")\n          setVis(false)\n        } else {\n          message.error(res.msg)\n        }\n      } catch (e) {\n        console.error(e)\n        message.error(\"创建失败\")\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    return (\n      <>\n        <Button type={\"primary\"} onClick={() => setVis(true)}>\n          新增账号\n        </Button>\n        <Spin spinning={loading}>\n          <Modal\n            visible={vis}\n            footer={null}\n            onCancel={() => setVis(false)}\n            width={800}\n          >\n            <Form\n              labelCol={{ span: 4 }}\n              wrapperCol={{ span: 18 }}\n              onFinish={handleSubmitUserInfo}\n            >\n              <Form.Item\n                label={\"用户名\"}\n                name={\"username\"}\n                required\n                initialValue={DEFAULT_USERNAME}\n              >\n                <Input required />\n              </Form.Item>\n              <Form.Item\n                label={\"密码\"}\n                name={\"password\"}\n                required\n                initialValue={DEFAULT_PASSWORD}\n              >\n                <Input required />\n              </Form.Item>\n              {/*<CompInputCookie initialCookie={DEFAULT_COOKIE} />*/}\n              <div\n                style={{\n                  width: \"100%\",\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                }}\n              >\n                <Button\n                  type={\"primary\"}\n                  danger\n                  htmlType={\"submit\"}\n                  style={{ width: \"50%\" }}\n                >\n                  确认新增店铺账号\n                </Button>\n              </div>\n            </Form>\n          </Modal>\n        </Spin>\n      </>\n    )\n}\n\nexport default CompAddUser\n","/**\n * refer:\n * - [加载语言配置 (NodeJS) · Day.js](https://day.js.org/docs/zh-CN/i18n/loading-into-nodejs)\n * - [Property 'fromNow' does not exist on type 'Dayjs' · Issue #297 · iamkun/dayjs](https://github.com/iamkun/dayjs/issues/297)\n */\n\nimport dayjs from \"dayjs\"\nimport \"dayjs/locale/zh-cn\"\nimport dayjsRelativeTimePlugin from \"dayjs/plugin/relativeTime\"\nimport dayjsArraySupportPlugin from \"dayjs/plugin/arraySupport\"\n\n// language support\ndayjs.locale(\"zh-cn\")\n\n// \"几秒前\"\ndayjs.extend(dayjsRelativeTimePlugin)\n\n// 传入数组解析时间\ndayjs.extend(dayjsArraySupportPlugin)\n\n\ndeclare module 'dayjs' {\n  interface Dayjs {\n    fromNow(): string;\n  }\n}\n\nexport default dayjs\n","import {UserInfo} from \"../../interface/pdd_user_info\"\nimport {Button, Card, Col, Row, Space, Tag} from \"antd\"\nimport {CompDeleteUser} from \"./CompDeleteUser\"\nimport dayjs from \"../../utils/my_dayjs\"\nimport React, {useEffect, useState} from \"react\"\nimport $ from \"../../utils/my_axios\"\nimport {API_GET_USER_STATS, API_VERIFY_USER_COOKIE} from \"../../const\"\nimport {UsersControls} from \"../../redux/controls\"\nimport {AppState} from \"../../redux/store\"\nimport {connect} from \"react-redux\"\n// import {CompUpdateUser} from \"./CompUpdateUser\"\n\nexport interface IStatus {\n  status: boolean\n  detail: string | number\n}\n\nexport interface IStringStatus extends IStatus {\n  detail: string\n}\n\nexport interface INumberStatus extends IStatus {\n  detail: number\n}\n\nexport interface UserStats {\n  users?: INumberStatus\n  goods_list?: INumberStatus\n  mall_data?: INumberStatus\n  goods_quality?: INumberStatus\n}\n\n\nexport const CompShowVerifiedStatus = (props: IStatus) => {\n  return (\n    <>\n      <Col span={8}>\n\n        {\n          props.status\n            ? <Tag color={'green'}>PASSED</Tag>\n            : <Tag color={\"red\"}>FAILED</Tag>\n        }\n      </Col>\n      <Col span={8}>\n        {\n          typeof props.detail === 'string' ? props.detail : props.detail.toFixed(2)\n        }\n      </Col>\n    </>\n  )\n}\n\nexport const CompShowVerifiedStatusPlus = (props: { item?: IStatus }) =>\n  props.item === undefined\n    ? <Col span={16}><Tag color={'gray'}>NOT INITIALIZED</Tag></Col>\n    : <CompShowVerifiedStatus status={props.item.status} detail={props.item.detail}/>\n\nexport const CompUserItem = (props: {\n  user: UserInfo\n  usersControl: UsersControls\n}) => {\n  const [loading, setLoading] = useState(false)\n  const [stats, setStats] = useState<UserStats>({})\n\n  const user = props.user\n\n  const verifyUser = async () => {\n    setLoading(true)\n    $.put(API_VERIFY_USER_COOKIE, {}, {params: {username: props.user.username}})\n      .then((e) => {\n        console.log(e.data)\n      })\n      .finally(() => {\n        setLoading(false)\n      })\n  }\n\n  useEffect(() => {\n    // 自动验证\n    if (props.usersControl.enable_auto_verify_users) {\n      verifyUser()\n    }\n    $.get(API_GET_USER_STATS, {params: {user_id: user.id}}).then(e => {\n      console.log(\"stat of \" + user.username, e.data.result)\n      console.log({stats, newStats: e.data.result})\n      setStats(e.data.result)\n    })\n  }, [props.user])\n\n  const CompUserOperators = (\n    <Space>\n      <Button type={\"primary\"} onClick={verifyUser} loading={loading}>\n        检测\n      </Button>\n\n      {/*<CompUpdateUser*/}\n      {/*  initUsers={() => {*/}\n      {/*  }}*/}\n      {/*  username={user.username}*/}\n      {/*  cookie={user.cookie}*/}\n      {/*/>*/}\n\n      {false && <CompDeleteUser/>}\n    </Space>\n  )\n\n  return (\n    <Card\n      title={user.username}\n      style={{width: 400, margin: 10}}\n      extra={CompUserOperators}\n    >\n\n      <Row gutter={[16, 8]}>\n        <Col span={6}>账号状态：</Col>\n        <Col span={6}>\n          {\n            loading\n              ? (\"正在验证……\")\n              : user.verifiedStatus\n              ? (<Tag color={\"green\"}>正常</Tag>)\n              : (<Tag color={\"darkred\"}>已过期</Tag>)\n          }\n        </Col>\n\n        <Col span={6}>验证时间：</Col>\n        <Col span={6}>\n          {dayjs(user.verifiedTime).fromNow()}\n        </Col>\n\n        {/*<Col span={8}>用户信息检测：</Col>*/}\n        {/*<CompShowVerifiedStatusPlus item={stats.users}/>*/}\n\n        {/*<Col span={8}>商品信息检测：</Col>*/}\n        {/*<CompShowVerifiedStatusPlus item={stats.goods_list}/>*/}\n\n        {/*<Col span={8}>交易金额检测：</Col>*/}\n        {/*<CompShowVerifiedStatusPlus item={stats.mall_data}/>*/}\n\n        {/*<Col span={8}>退款金额检测：</Col>*/}\n        {/*<CompShowVerifiedStatusPlus item={stats.goods_quality}/>*/}\n\n        {/*<Col span={8}>退款比率：</Col>*/}\n        {/*<Col span={8}>{(stats.mall_data && stats.goods_quality) &&*/}\n        {/*toPercentage(stats.goods_quality.detail / stats.mall_data.detail)} </Col>*/}\n\n      </Row>\n\n\n    </Card>\n  )\n}\n\nconst state2props = (state: AppState) => ({\n  usersControl: state.controls.users,\n})\nexport default connect(state2props)(CompUserItem)\n\n","import {UserInfo} from \"../../interface/pdd_user_info\"\nimport {Space} from \"antd\"\nimport CompAddUser from \"./CompAddUser\"\nimport React from \"react\"\nimport {AppState} from \"../../redux/store\"\nimport {connect} from \"react-redux\"\nimport CompUserItem from \"./CompUserItem\"\n\nexport interface CompUsersListProps {\n  users: UserInfo[]\n}\n\nexport const CompUsersList = (props: CompUsersListProps) => {\n  console.log(\"CompUsersList\", props.users)\n  return (\n    <div>\n      <Space\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          marginBottom: 10,\n        }}\n      >\n        {/*<CompFastAddUser/>*/}\n        <CompAddUser/>\n      </Space>\n\n      <div id={\"user-list\"} style={{\n        display: \"flex\", flexWrap: 'wrap', justifyContent: \"space-around\"\n      }}>\n        {props.users.map((user: UserInfo) => (\n          <CompUserItem key={user.id} user={user}/>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nconst state2props = (state: AppState): CompUsersListProps => ({\n  users: state.users.list,\n})\n\nexport default connect(state2props)(CompUsersList)\n","import {AnyAction} from \"redux\";\nimport {Dispatch} from \"react\";\nimport $ from \"../utils/my_axios\";\nimport {API_GET_AD_ANALYSIS} from \"../const\";\n\nexport const SET_AD = \"SET_AD\"\nexport type SET_AD = typeof SET_AD\n\nexport type AD_ACTION_TYPE = SET_AD\n\nexport interface SubAdItem {\n  click: number,\n  impression: number\n  orderNum: number\n  gmv: number\n  spend: number\n  _ctr: number\n  _cvr: number\n  _roi: number\n}\n\n\nexport interface AdItem {\n  date: string\n}\n\nexport interface AdState {\n  list: AdItem[]\n}\n\nexport const setAd = (goods_id: number, days: number) => (dispatch: Dispatch<any>) => {\n  $.get(API_GET_AD_ANALYSIS, {params: {goods_id, days}})\n    .then(e => {\n      dispatch({\n        type: SET_AD,\n        payload: e.data.result.items\n      })\n    })\n}\n\nexport const initAdState = (): AdState => ({\n  list: []\n})\n\nexport const adReducer = (state = initAdState(), action: AnyAction): AdState => {\n  switch (action.type as AD_ACTION_TYPE){\n    case SET_AD:\n      return {\n        list: action.payload\n      }\n    default:\n      return state\n  }\n}\n","import { applyMiddleware, combineReducers, createStore } from \"redux\"\nimport thunkMiddleware from \"redux-thunk\"\nimport loggerMiddleware from \"redux-logger\"\nimport { goodsReducer } from \"./goods\"\nimport { usersReducer } from \"./users\"\nimport { composeWithDevTools } from \"redux-devtools-extension\"\nimport {adReducer} from \"./ad\";\nimport {periodsReducer} from \"./periods\";\nimport controlsReducer from \"./controls\";\nimport {breadcrumbReducer} from \"./breadcrumb\";\n\nexport const rootReducer = combineReducers({\n  goods: goodsReducer,\n  users: usersReducer,\n  ad: adReducer,\n  periods: periodsReducer,\n  controls: controlsReducer,\n  breadcrumb: breadcrumbReducer\n})\n\nexport const store = createStore(\n  rootReducer,\n  // add redux support in the F12\n  composeWithDevTools(applyMiddleware(thunkMiddleware, loggerMiddleware))\n)\n\nexport default store\n\nexport type AppState = ReturnType<typeof rootReducer>\n","import React from \"react\";\nimport ReactWordcloud, {Word} from \"react-wordcloud\";\n\n\nconst words: Word[] = [\n  '石总',\n  \"梦婷\",\n  '兵哥',\n  '飞勇哥'\n].map(s => ({\n  text: s,\n  value: 100\n}))\n\n/**\n * refer: - [echarts-wordcloud - npm](https://www.npmjs.com/package/echarts-wordcloud)\n *\n * @constructor\n */\nexport const CompWordCloud = () => {\n\n\n  return (\n    <ReactWordcloud words={words}/>\n  )\n}\n\nexport default CompWordCloud\n","import {Button, Form, Input} from \"antd\";\nimport React from \"react\"\nimport CompWordCloud from \"./CompWordCloud\";\n\nexport const CompAccounts = () => {\n  return (\n    <div id={'accounts'}>\n\n      <div style={{width: 600}}>\n        <CompWordCloud/>\n\n        <Form labelCol={{span: 8}} wrapperCol={{span: 16}} >\n          <Form.Item label={'花名'}>\n            <Input/>\n          </Form.Item>\n\n          <Form.Item label={'手机号'}>\n            <Input/>\n          </Form.Item>\n\n          <Form.Item label={'验证码'}>\n            <Input/>\n          </Form.Item>\n\n          <Form.Item wrapperCol={{offset: 8, span: 16}}>\n            <Button type={'primary'}>\n              提交\n            </Button>\n          </Form.Item>\n        </Form>\n      </div>\n\n    </div>\n  )\n}\n\n\nexport default CompAccounts\n","import {Layout} from \"antd\"\nimport React, {useEffect} from \"react\"\nimport CompHeader from \"./components/layout/CompHeader\"\nimport CompSider from \"./components/layout/CompSider\"\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\"\nimport CompOrdersAnalysis from \"./components/analysis/CompOrdersAnalysis\"\nimport CompRawTable from \"./components/general/CompRawTable\"\nimport {RouterItemWithPath, routerOfRawDataWithPath} from \"./routers\"\nimport {\n  API_GET_USERS,\n  URI_ACCOUNTS,\n  URI_ANALYSIS_AD,\n  URI_ANALYSIS_ORDERS,\n  URI_HOME,\n  URI_USERS_LOGIN,\n  URI_USERS_MONITOR,\n} from \"./const\"\nimport CompAdAnalysis from \"./components/analysis/ad/CompAdAnalysis\"\nimport CompUsersList from \"./components/users/CompUsersList\"\nimport {Provider} from \"react-redux\"\nimport store from \"./redux/store\"\nimport $ from \"./utils/my_axios\"\nimport {SET_USERS} from \"./redux/users\"\nimport {Content} from \"antd/lib/layout/layout\"\nimport CompAccounts from \"./components/accounts/CompAccounts\";\n\nconst genRoute = (fatherRouter: RouterItemWithPath): any[] => {\n  let routes: any[] = []\n  routes.push(\n    <Route\n      key={fatherRouter.path}\n      path={fatherRouter.path}\n      exact\n      component={() => <CompRawTable collName={fatherRouter.collName || ''}/>}\n    />\n  )\n  if (fatherRouter.children) {\n    fatherRouter.children.forEach((subRouter) => {\n      routes = [...routes, ...genRoute(subRouter)]\n    })\n  }\n  return routes\n}\n\nexport const App = () => {\n  /**\n   * 直接这样写可行，是因为这个store就是这个文件共用的，所以没问题\n   */\n  useEffect(() => {\n    $.get(API_GET_USERS).then((e) => {\n      store.dispatch({\n        type: SET_USERS,\n        payload: e.data.result.items,\n      })\n    })\n  })\n\n  return (\n    <Provider store={store}>\n      <BrowserRouter>\n        <Layout\n          style={{\n            minHeight: \"100vh\",\n            minWidth: \"100vw\",\n            display: \"flex\",\n            flexDirection: \"row\",\n          }}\n        >\n          <CompSider/>\n\n          <Layout\n            className={\"site-layout\"}\n            style={{width: \"100%\", height: \"100vh\", overflow: \"auto\"}}\n          >\n            <CompHeader/>\n\n            <Content style={{margin: \"16px 16px\"}}>\n              <div id={\"content\"} style={{padding: 24, minHeight: 600}}>\n                <Switch>\n                  <Route path={URI_HOME} exact/>\n                  <Route\n                    path={URI_ANALYSIS_ORDERS}\n                    exact\n                    component={CompOrdersAnalysis}\n                  />\n                  <Route\n                    path={URI_ANALYSIS_AD}\n                    exact\n                    component={CompAdAnalysis}\n                  />\n\n                  {/* plug in the dynamic routers */}\n                  {(() => genRoute(routerOfRawDataWithPath))()}\n\n                  <Route\n                    path={URI_USERS_LOGIN}\n                    exact\n                    component={CompUsersList}\n                  />\n                  <Route\n                    path={URI_USERS_MONITOR}\n                    exact\n                    component={CompUsersList}\n                  />\n                  <Route\n                    path={URI_ACCOUNTS}\n                    exact\n                    component={CompAccounts}\n                  />\n                </Switch>\n              </div>\n            </Content>\n          </Layout>\n        </Layout>\n      </BrowserRouter>\n    </Provider>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\n\nimport \"./styles/index.css\"\nimport \"antd/dist/antd.css\"\n\nimport 'react-pivottable/pivottable.css';\n\n\n//Exposes all themes as CSS classes\n// import \"@finos/perspective-viewer/themes/all-themes.css\";\n\n// https://rsuitejs.com/zh/guide/usage\n// import 'rsuite/lib/styles/index.less';\n// import 'rsuite/dist/styles/rsuite-default.css'\n\nReactDOM.render(<App/>, document.getElementById(\"root\"))\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}